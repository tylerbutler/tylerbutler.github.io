<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- Set the viewport width to device width for mobile -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>        Tyler Butler
</title>

                    
    <link rel="alternate" type="application/atom+xml"
          title="Tyler Butler Atom Feed"
          href="/feeds/atom.xml"/>

                
                                                        <link rel="stylesheet"
                      href="/static/engineer/lib/foundation/stylesheets/grid.css">
                <link rel="stylesheet"
                      href="/static/engineer/lib/foundation/stylesheets/mobile.css">

                <!--[if lt IE 9]>
                    <link rel="stylesheet" href="/static/engineer/lib/foundation/stylesheets/ie.css">
                <![endif]-->
                        
                    
                    
                    <link rel="stylesheet" href="/static/theme/stylesheets/dark_rainbow.css" type="text/css"/>
        
                
                                    
            <script type="text/javascript"
            src="http://use.typekit.net/vty2qol.js"></script>
    <script type="text/javascript">
        try {
            Typekit.load();
        }
        catch (e) {
        }
    </script>
    
            <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-26061862-1']);
    _gaq.push(['_setDomainName', 'tylerbutler.com']);

    // track speed for all users; traffic is low enough this shouldn't be a problem
    _gaq.push(['_setSiteSpeedSampleRate', 100]);
    
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>    
                        <script src="/static/engineer/lib/modernizr-2.6.2.min.js"
                    type="text/javascript"></script>
            
            <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline -->
            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
            <script>
                window.jQuery || document.write('<script src="/static/engineer/lib/jquery-1.10.2.min.js"><\/script>')
            </script>    
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body class=""><!--[if lt IE 7]>
    <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
<![endif]-->    <div class="container">            <header id="primary" class="row">                                            <h1 class="five columns">
                            <a href="/">                                    tyler
                                    <span class="highlight">butler</span>
                                </a>
                        </h1>
                                                        <nav class="seven columns">                            <ul class="nav navbar-nav">
    
                <li class="current">
        <a href="/">articles</a></li>
                <li>
        <a href="/projects">projects</a></li>
</ul>

                        </nav>
                </header>
            <div class="row">                <section id="main" class="nine columns"
                         role="main">    <div class="posts">
                                    <div class="row">
            <div class="post-info two columns">
            <div class="post-date">
                                    <div class="month">JAN</div>
                    <div class="day">24</div>
                    <div class="year">2005</div>
                    <div class="permalink">
                        <a href="/2005/01/parsing-xfdf-in-php/"
                           title="Permanent link to 'Parsing XFDF in PHP'">∞</a>
                    </div>
                            </div>
                                        <ul class="tags">
                                            <li><a href="/tag/snippets">snippets</a>
                        </li>
                                            <li><a href="/tag/php">php</a>
                        </li>
                                    </ul>
                    </div>
                            <article class="post-content ten columns">
                <time datetime="2005-01-24 PST"
                      pubdate=""></time>
                <header>
                    <h1>
                        <a href="        /2005/01/parsing-xfdf-in-php/">Parsing <span class="caps">XFDF</span> in <span class="caps">PHP</span></a>
                                            </h1>
                </header>
                                    <p>This past week at work I have been working on using Adobe Acrobat to submit
form data. The value of this is that the form data can be reimported into the
<span class="caps">PDF</span> form then printed all purty-lookin&#8217;. Anyway, Acrobat allows you to submit
your form data in several different formats. One, <span class="caps">FDF</span>, is usable in <span class="caps">PHP</span>
provided you load this module thingy. Unfortunately, the server I want to run
the <span class="caps">PHP</span> script on uses Irix and the module is unavailable for Irix.&nbsp;Poo.</p>
<p>I then turned to <span class="caps">XFDF</span>, which is essentially <span class="caps">FDF</span> data all <span class="caps">XML</span>-ified. <span class="caps">PHP</span> has an
<span class="caps">XML</span> parser built in, so I don&#8217;t have to load any crazy modules to parse the
data. Unfortunately, <span class="caps">PHP</span>&#8217;s parser is <span class="caps">SAX</span>-based rather than <span class="caps">DOM</span>-based, so it
took me a rather long time to figure out how to get it working right. Anyway,
here&#8217;s the <span class="caps">PHP</span> code that essentially takes <span class="caps">XFDF</span> data (declare <code>$file</code> as a
string pointing to the location of your <span class="caps">XFDF</span> file) and parses it into an
associative array (<code>$values</code>). The array is indexed by the <span class="caps">XFDF</span> field names.
The code below is not entirely complete since I snipped it out of a larger
file, but if you look at it, I think you&#8217;ll get the idea. It&#8217;s pretty simple
once you figure out the way <span class="caps">PHP</span> does <span class="caps">XML</span>&nbsp;processing.</p>
<div class="codehilite"><pre><span class="cm">/* <span class="caps">BEGIN</span> <span class="caps">VARIABLE</span> <span class="caps">DECLARATIONS</span> */</span>
<span class="c1">//global variables for <span class="caps">XML</span> parsing</span>
<span class="err">$</span><span class="n">values</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="n">array</span><span class="p">();</span>
<span class="err">$</span><span class="n">field</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>
<span class="err">$</span><span class="n">curTag</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>


<span class="cm">/* <span class="caps">BEGIN</span> <span class="caps">XML</span> <span class="caps">PROCESSING</span> */</span>
<span class="c1">// <span class="caps">XML</span> Parser element start function</span>
<span class="k">function</span><span class="err"> </span><span class="n">startElement</span><span class="p">(</span><span class="err">$</span><span class="n">parser</span><span class="p">,</span><span class="err"> $</span><span class="n">name</span><span class="p">,</span><span class="err"> $</span><span class="n">attrs</span><span class="p">)</span>
<span class="p">{</span>
<span class="err">    </span><span class="k">global</span><span class="err"> $</span><span class="n">curTag</span><span class="p">,</span><span class="err"> $</span><span class="n">field</span><span class="p">;</span>


<span class="err">    </span><span class="c1">//track the tag we&#39;re currently in</span>
<span class="err">    $</span><span class="n">curTag</span><span class="err"> </span><span class="p">.</span><span class="o">=</span><span class="err"> </span><span class="s">&quot;^$name&quot;</span><span class="p">;</span>

<span class="err">    </span><span class="k">if</span><span class="p">(</span><span class="err"> $</span><span class="n">curTag</span><span class="err"> </span><span class="o">==</span><span class="err"> </span><span class="s">&quot;^<span class="caps">XFDF</span>^<span class="caps">FIELDS</span>^<span class="caps">FIELD</span>&quot;</span><span class="err"> </span><span class="p">)</span>
<span class="err">    </span><span class="p">{</span>
<span class="err">        </span><span class="c1">//save the name of the field in a global var</span>
<span class="err">        $</span><span class="n">field</span><span class="err"> </span><span class="o">=</span><span class="err"> $</span><span class="n">attrs</span><span class="p">[&#39;</span><span class="no"><span class="caps">NAME</span></span><span class="p">&#39;];</span>
<span class="err">    </span><span class="p">}</span>
<span class="p">}</span>


<span class="c1">// <span class="caps">XML</span> Parser element end function</span>
<span class="k">function</span><span class="err"> </span><span class="n">endElement</span><span class="p">(</span><span class="err">$</span><span class="n">parser</span><span class="p">,</span><span class="err"> $</span><span class="n">name</span><span class="p">)</span>
<span class="p">{</span>
<span class="err">    </span><span class="k">global</span><span class="err"> $</span><span class="n">curTag</span><span class="p">;</span>

<span class="err"> </span> <span class="err">  </span><span class="c1">// remove the tag we&#39;re ending from the &quot;tag tracker&quot;</span>
<span class="err">    $</span><span class="n">caret_pos</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="p">[</span><span class="n">strrpos</span><span class="p">][</span><span class="mh">1</span><span class="p">](</span><span class="err">$</span><span class="n">curTag</span><span class="p">,</span><span class="sc">&#39;^&#39;</span><span class="p">);</span>
<span class="err">    $</span><span class="n">curTag</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="p">[</span><span class="n">substr</span><span class="p">][</span><span class="mh">2</span><span class="p">](</span><span class="err">$</span><span class="n">curTag</span><span class="p">,</span><span class="err"> </span><span class="mh">0</span><span class="p">,</span><span class="err"> $</span><span class="n">caret_pos</span><span class="p">);</span>
<span class="p">}</span>


<span class="c1">// <span class="caps">XML</span> Parser characterData function</span>
<span class="k">function</span><span class="err"> </span><span class="n">characterData</span><span class="p">(</span><span class="err"> $</span><span class="n">parser</span><span class="p">,</span><span class="err"> $</span><span class="n">data</span><span class="err"> </span><span class="p">)</span>
<span class="p">{</span>
<span class="err">    </span><span class="k">global</span><span class="err"> $</span><span class="n">curTag</span><span class="p">,</span><span class="err"> $</span><span class="n">values</span><span class="p">,</span><span class="err"> $</span><span class="n">field</span><span class="p">;</span>
<span class="err">    $</span><span class="n">valueTag</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="s">&quot;^<span class="caps">XFDF</span>^<span class="caps">FIELDS</span>^<span class="caps">FIELD</span>^<span class="caps">VALUE</span>&quot;</span><span class="p">;</span>

<span class="err">    </span><span class="k">if</span><span class="p">(</span><span class="err"> $</span><span class="n">curTag</span><span class="err"> </span><span class="o">==</span><span class="err"> $</span><span class="n">valueTag</span><span class="err"> </span><span class="p">)</span>
<span class="err">    </span><span class="p">{</span>
<span class="err">        </span><span class="c1">// we&#39;re in the value tag, so put the value in the array</span>
<span class="err">        $</span><span class="n">values</span><span class="p">[</span><span class="err">$</span><span class="n">field</span><span class="p">]</span><span class="err"> </span><span class="o">=</span><span class="err"> $</span><span class="n">data</span><span class="p">;</span>
<span class="err">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Create the parser and parse the file</span>
<span class="err">$</span><span class="n">xml_parser</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="n">xml_parser_create</span><span class="p">();</span>
<span class="n">xml_set_element_handler</span><span class="p">(</span><span class="err">$</span><span class="n">xml_parser</span><span class="p">,</span><span class="err"> </span><span class="s">&quot;startElement&quot;</span><span class="p">,</span><span class="err"> </span><span class="s">&quot;endElement&quot;</span><span class="p">);</span>
<span class="n">xml_set_character_data_handler</span><span class="p">(</span><span class="err">$</span><span class="n">xml_parser</span><span class="p">,</span><span class="err"> </span><span class="s">&quot;characterData&quot;</span><span class="p">);</span>

<span class="k">if</span><span class="err"> </span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="err">$</span><span class="n">fp</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="n">fopen</span><span class="p">(</span><span class="err">$</span><span class="n">file</span><span class="p">,</span><span class="s">&quot;r&quot;</span><span class="p">)))</span>
<span class="p">{</span>
<span class="err">    </span><span class="n">die</span><span class="err"> </span><span class="p">(</span><span class="s">&quot;could not open <span class="caps">XML</span> for input&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">while</span><span class="err"> </span><span class="p">(</span><span class="err">$</span><span class="n">data</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="n">fread</span><span class="p">(</span><span class="err">$</span><span class="n">fp</span><span class="p">,</span><span class="err"> </span><span class="mh">4096</span><span class="p">))</span>
<span class="p">{</span>
  <span class="k">if</span><span class="err"> </span><span class="p">(</span><span class="o">!</span><span class="n">xml_parse</span><span class="p">(</span><span class="err">$</span><span class="n">xml_parser</span><span class="p">,</span><span class="err"> $</span><span class="n">data</span><span class="p">,</span><span class="err"> </span><span class="n">feof</span><span class="p">(</span><span class="err">$</span><span class="n">fp</span><span class="p">)))</span>

<span class="err">    </span><span class="p">{</span>

<span class="err">        </span><span class="n">die</span><span class="p">(</span><span class="n">sprintf</span><span class="p">(</span><span class="s">&quot;<span class="caps">XML</span> error: %s at line %d&quot;</span><span class="p">,</span>
                    <span class="n">xml_error_string</span><span class="p">(</span><span class="n">xml_get_error_code</span><span class="p">(</span><span class="err">$</span><span class="n">xml_parser</span><span class="p">)),</span>
                    <span class="n">xml_get_current_line_number</span><span class="p">(</span><span class="err">$</span><span class="n">xml_parser</span><span class="p">)));</span>
<span class="err">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">xml_parser_free</span><span class="p">(</span><span class="err">$</span><span class="n">xml_parser</span><span class="p">);</span>
<span class="n">flclose</span><span class="p">(</span><span class="err">$</span><span class="n">fp</span><span class="p">);</span>

<span class="cm">/* <span class="caps">END</span> <span class="caps">XML</span> <span class="caps">PROCESSING</span> */</span>
</pre></div>
                                                            </article>
            </div>                                                <div class="row">
            <div class="post-info two columns">
            <div class="post-date">
                                    <div class="month">JAN</div>
                    <div class="day">21</div>
                    <div class="year">2005</div>
                    <div class="permalink">
                        <a href="/2005/01/c-messagebox-strangeness/"
                           title="Permanent link to 'C# MessageBox Strangeness'">∞</a>
                    </div>
                            </div>
                                </div>
                            <article class="post-content ten columns">
                <time datetime="2005-01-21 PST"
                      pubdate=""></time>
                <header>
                    <h1>
                        <a href="        /2005/01/c-messagebox-strangeness/">C# MessageBox Strangeness</a>
                                            </h1>
                </header>
                                    <p>I am working on a C# program and I want to pop up a message box when certain
fields aren&#8217;t filled out properly in the <span class="caps">GUI</span>. .Net&#8217;s MessageBox class makes it
simple to do. However, when I ran my code, my message box looked like&nbsp;this:</p>
<p><img alt="" src="/SiteCollectionImages/Post%20Images/messagebox.png" /></p>
<p>I fooled around with it for awhile, trying different combinations of arguments
to the <code>Show()</code> method, but I wasn&#8217;t able to figure it out. Thankfully, my
Google search turned up <a href="http://www.xtremevbtalk.com/showthread.php?t=191026" title="I don't know how THEY figured it out...">this forum post</a> pretty quickly. Apparent
disabling McAfee&#8217;s Buffer Overflow Protection solves the problem. But this
makes me wonder whose fault this is. Is it something in C#/.Net? Is it
Windows&#8217; fault? Is McAfee just really dumb? Who knows&#8230; I&#8217;m too lazy to try
and figure it out right&nbsp;now.</p>
                                                            </article>
            </div>                                                <div class="row">
            <div class="post-info two columns">
            <div class="post-date">
                                    <div class="month">JAN</div>
                    <div class="day">20</div>
                    <div class="year">2005</div>
                    <div class="permalink">
                        <a href="/2005/01/ubuntu-lvm/"
                           title="Permanent link to 'Ubuntu + LVM'">∞</a>
                    </div>
                            </div>
                                        <ul class="tags">
                                            <li><a href="/tag/ubuntu">ubuntu</a>
                        </li>
                                    </ul>
                    </div>
                            <article class="post-content ten columns">
                <time datetime="2005-01-20 PST"
                      pubdate=""></time>
                <header>
                    <h1>
                        <a href="        /2005/01/ubuntu-lvm/">Ubuntu + <span class="caps">LVM</span></a>
                                            </h1>
                </header>
                                    <p>I spent this past weekend hacking away at my Media Box, which serves as my
personal free <span class="caps">PVR</span>. I wanted to get <a href="http://www.ubuntu-linux.org" title="Ubuntu, a Debian distro for the masses.  All the cool people do it.">Ubuntu</a> on it with <span class="caps">LVM</span> so I could use
all four of my hard drives as one for <a href="http://mythtv.org" title="MythTV, the best PVR there is... if you can get it running...">MythTV</a>. I borrowed one of Vlad&#8217;s
Ubuntu <span class="caps">CD</span>&#8217;s (mine haven&#8217;t arrived yet and I couldn&#8217;t find the one I burnt) and
got the installer running. During the partitioning section of the install, I
set everything up for an <span class="caps">LVM</span> volume group and thought I had everything
working. Apparently I didn&#8217;t. Silly me for not having a clue how <span class="caps">LVM</span> works
(always read the directions,&nbsp;kids).</p>
<p>Anyway, my installation was b0rked so I figured I&#8217;d just reboot and start from
scratch. No. My <span class="caps">LVM</span> data was still present every time I tried to install
Ubuntu. I would try to remove the volume groups and it would fail, reporting
the drives were still in use. I was getting manifest errors up the wazoo. So I
thought, &#8216;<span class="caps">OK</span>, I just need to wipe the drives with something else and I&#8217;ll be
fine.&#8217; So I tried booting off an <span class="caps">XP</span> <span class="caps">CD</span> into rescue mode and formatting the
drives there. No dice. I downloaded a few <span class="caps">CD</span>-based disk formatting tools that
<strong>said</strong> they cleared things out but apparently they didn&#8217;t. <a href="http://www.google.com" title="Google, I still love you...">Google</a>
searches were returning a whole bunch of information about how to remove
volume groups, but <strong>nothing</strong> about how to forcefully wipe <span class="caps">LVM</span> volumes.
Funny&#8230; most people that use <span class="caps">LVM</span> and software <span class="caps">RAID</span> are concerned about
keeping their data safe.&nbsp;Whatever.</p>
<p><strong>Finally</strong>, I came across <a href="http://lists.suse.com/archive/suse-linux-e/2001-Nov/1413.html" title="Too bad I didn't come across this about 6 hours earlier...">this forum post</a>, which has the necesarry command. In retrospect it makes sense - just write zeroes to the first part of the disk. But I would have never figured it out. For posterity, here&#8217;s the command you need to run on a device to remove all previous <span class="caps">LVM</span>&nbsp;info:</p>
<div class="codehilite"><pre><span class="n">dd</span> <span class="k">if</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">zero</span> <span class="n">of</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda</span> <span class="n">bs</span><span class="o">=</span><span class="mi">1</span><span class="n">k</span> <span class="n">count</span><span class="o">=</span><span class="mi">10</span>
</pre></div>


<p>Then of course, I had to figure out how the Ubuntu installer was mounting all
my drives&#8230; but that&#8217;s another story. And by the way&#8230; after all of this,
MythTV just wasn&#8217;t liking my remote, and I was suffering <span class="caps">PVR</span> withdrawal pretty
bad, so I&#8217;m back to <span class="caps">MCE2005</span>. Looks like I&#8217;ll have to keep fast-forwarding
through the commercials manually. Such is&nbsp;life.</p>
                                                            </article>
            </div>                                                <div class="row">
            <div class="post-info two columns">
            <div class="post-date">
                                    <div class="month">DEC</div>
                    <div class="day">27</div>
                    <div class="year">2004</div>
                    <div class="permalink">
                        <a href="/2004/12/merry-christmas/"
                           title="Permanent link to 'Merry Christmas!'">∞</a>
                    </div>
                            </div>
                                </div>
                            <article class="post-content ten columns">
                <time datetime="2004-12-27 PST"
                      pubdate=""></time>
                <header>
                    <h1>
                        <a href="        /2004/12/merry-christmas/">Merry Christmas!</a>
                                            </h1>
                </header>
                                    <p>Ahhh, Christmas, a time for food, family, and of course, gifts. Some of my
friends this year, however, are giving me gifts that <strong>cost</strong> me money. These
gifts come in the form of mobile phone text messages, which are not included
in my cell phone plan. T-Mobile charges me 50 cents a pop for every one sent
<strong>and</strong> received. Many of my friends have sent me Christmas greetings the past
few days via text message, and I can just see the ogres at T-Mobile jumping
with glee as my bill skyrockets. Oh well. At least I have&nbsp;friends.</p>
                                                            </article>
            </div>                                                <div class="row">
            <div class="post-info two columns">
            <div class="post-date">
                                    <div class="month">DEC</div>
                    <div class="day">13</div>
                    <div class="year">2004</div>
                    <div class="permalink">
                        <a href="/2004/12/the-internet-is-down/"
                           title="Permanent link to 'The Internet is Down!'">∞</a>
                    </div>
                            </div>
                                </div>
                            <article class="post-content ten columns">
                <time datetime="2004-12-13 PST"
                      pubdate=""></time>
                <header>
                    <h1>
                        <a href="        /2004/12/the-internet-is-down/">The Internet is Down!</a>
                                            </h1>
                </header>
                                    <p>If you&#8217;ve been at <a href="http://www.iit.edu" title="The Illinois Institute of Technology homepage, the virtual home of the distinguished learning institution I call my own.">Illinois Tech</a> this week, you&#8217;ve had the absolutely
wonderful opportunity to see what carnage a Denial of Service attack against a
core <span class="caps">DNS</span> server can create. Now, I honestly don&#8217;t know much about network
infrastructure or the mechanics behind a Denial of Service attack; frankly, my
passion is software, not hardware, so I&#8217;ve never sought out the knowledge.
(Unfortunately, <a href="http://www.howstuffworks.com" title="Find out how stuff works!  Go on, learn a little!">HowStuffWorks.com</a> doesn&#8217;t have anything specific on DoS.
They do, however, have articles on <a href="http://computer.howstuffworks.com/router.htm" title="How routers work.">routers</a>, <a href="http://computer.howstuffworks.com/firewall.htm" title="How firewalls work.">firewalls</a>, and
&#8220;<a href="http://computer.howstuffworks.com/internet-infrastructure.htm" title="How the internet works.">Internet Infrastructure,</a>&#8221; for those that want to learn more about the
hardware that makes the Internet work.) But despite my lack of knowledge, this
past week has been an excellent chance to experience the effects a DoS can&nbsp;cause.</p>
<p>A DoS <strong>destroys</strong> your ability to use the network &#8211; much moreso than I ever
thought possible. For my own sake, I am going to write a little bit about what
I&#8217;ve seen and make some conclusions about what went wrong, and even try to
suggest possible solutions that we can implement to solve things in the
future. But before we start, a little disclaimer. The network people here at
<span class="caps">IIT</span> are not the most apt people in the world, but they&#8217;re not the most inept
either. We do have some truly brilliant people around here, but frankly, they
don&#8217;t get recognized or listened to nearly enough. So before you start railing
on the fact that if <strong>you</strong> were a network engineer here, this never would
have happened, let me say this: the main problem I have seen this past week is
not a lack of technical experience, knowledge, or anything like that; the
problem is a <strong>lack of communication.</strong> I cannot stress that enough. So let&#8217;s
get&nbsp;started.</p>
<p>On Sunday evening, Felix, one of our network engineers, noticed an inordinate
amount of traffic to random ports and stuff, and suspected a worm or virus had
made its way onto the network. In an effort to contain the attack, he blocked
the <span class="caps">MAC</span> addresses of 160 computers with the highest traffic on the network at
the time, effectively banning <strong>all</strong> network traffic from those people. The
thought was that this would diagnose the problem &#8211; block the addresses, watch
things go back to normal, then go through the <span class="caps">PC</span>&#8217;s that were blocked and
figure out what worm or virus had caused the problem, fix it, and reopen the&nbsp;network.</p>
<p>Problem was &#8211; blocking the addresses didn&#8217;t fix the problem. In fact, it got
worse. The <span class="caps">DNS</span> server started going down, and then finally went kaput
altogether. This effectively knocked out internet access for all of campus.
The internal network still worked, and some cached <span class="caps">DNS</span> entries still resolved
all right, but most people were locked out. Here at the Support Desk we got
back up and running for awhile by switching to an external <span class="caps">DNS</span>, but we
couldn&#8217;t exactly tell the whole campus to do that, because it wouldn&#8217;t have
solved the root of the problem. Eventually, because of the bogus traffic that
was being spit out from our network and our <span class="caps">DNS</span> server, our own <span class="caps">ISP</span> blocked
our <span class="caps">DNS</span>&nbsp;server.</p>
<p>This is where things started to go downhill &#8211; fast. Felix provided us with the
list of blocked <span class="caps">MAC</span> addresses initially, but by the time the <span class="caps">DNS</span> went down,
which was late Monday afternoon, that list was out of date. On top of that,
because of the rampant random network issues, we couldn&#8217;t tell a customer what
was wrong when they called. They might be blocked, they might not. It might
just be the random <span class="caps">DNS</span> problems, it might not. We had still not been provided
with a process through which people could get checked and unblocked if
necessary. Thus, problem number&nbsp;one:</p>
<p><strong>1) We at the Support Desk were not provided with information, sketchy or
otherwise, to tell people when they&nbsp;called.</strong></p>
<p>So we started telling people whatever we knew &#8211; there were network issues,
there were some people with blocked <span class="caps">MAC</span>&#8217;s, we didn&#8217;t know when things would be
back up. It is useful to remember that at this point, <span class="caps">OTS</span> had no idea what the
problem was (the <span class="caps">DNS</span> server was the <em>problem</em>, but it had been brought down by
the DoS attack, which hadn&#8217;t been identified yet), and no information had been
sent out to the <span class="caps">IIT</span> community. Hence, problem number&nbsp;two:</p>
<p><strong>2) <span class="caps">OTS</span> was extremely slow at getting public information out to the <span class="caps">IIT</span>
community, and when they did, provided it via unreliable methods (email,&nbsp;mainly).</strong></p>
<p>Yup, most information went out in the form of emails, which is certainly a
valid form of communication, but it shouldn&#8217;t be the only one. But more on
suggestions&nbsp;later&#8230;</p>
<p>As the week dragged on, and more and more customers became agitated from a
lack of information and a seeming lack of action on our part, things just got
worse. Apparently, there was much debate about the actual cause of the problem
was. Virus scans and other searches had revealed nothing on many of the
blocked <span class="caps">PC</span>&#8217;s, except a small <span class="caps">VBS</span> worm that remained under most virus scanner&#8217;s
radar. One camp held that there was just a problem with the <span class="caps">DNS</span> server -
something was wrong with it. The other camp held that we were under an attack.
One &#8211; it&#8217;s our fault, two &#8211; it&#8217;s not our fault (at least, not&nbsp;directly).</p>
<p>It was suggested at this point that we remove the <span class="caps">DNS</span> server and replace it
with a fresh one, which would make the choice between the two theories simple.
But, for some unknown reason, this was resisted for quite some time.
Eventually, a new <span class="caps">DNS</span> server was put in. It lasted 30 minutes. It was clear we
were under attack. Thus, point number&nbsp;three:</p>
<p><strong>3) When <span class="caps">DNS</span> went down, it should have been replaced immediately. That
would have made it clear from the beginning that we were under&nbsp;attack.</strong></p>
<p>During all of this hullabaloo, we at the Support Desk remained ignorant of any
information regarding the problem, its causes, and what <span class="caps">OTS</span> was doing to
resolve it. The calls we received were getting angrier and angrier as final&#8217;s
week loomed closer and they still couldn&#8217;t get to their course websites, or do
research, or browse the net to relax, or anything. In addition, we didn&#8217;t have
an updated <span class="caps">MAC</span> block list, which had been changed (at one point it got to 400
<span class="caps">MAC</span>&#8217;s) several times at this point. Points numbers four and&nbsp;five:</p>
<p><strong>4) The Support Desk was not provided with up-to-date information (such as
updated <span class="caps">MAC</span> block lists) that would have assisted them in diagnosing the
problem(s), and cut down the workload on other <span class="caps">OTS</span> divisions, and maybe, just
maybe, would have left customers feeling a little happier about the state of&nbsp;things.</strong></p>
<p><strong>5) When <span class="caps">OTS</span> Communications went out, they were overly vague and seemed to
take forever to write. Communications went out with information that seemed
out of date as a&nbsp;result.</strong></p>
<p>Well, those are the main points. The core problem was a lack of communication
and information-sharing amongst departments. If the Support Desk is a voice
for <span class="caps">OTS</span>, then we have to know what to say, and we simply weren&#8217;t provided with
any information. Also, (and this really bugs me) the <span class="caps">OTS</span> communications just
told people to call the Support Desk if they had a problem, presumably to get
more information, but we didn&#8217;t have anything to tell them. So these were the
problems, now what about solutions? Here are my thoughts, for what they&#8217;re&nbsp;worth.</p>
<p><strong>Provide the Support Desk access to information such as <span class="caps">MAC</span> block lists.
The info has to be <em>up-to-date</em>, otherwise it&#8217;s not really&nbsp;useful.</strong></p>
<p>This seems to be a no-brainer to me. If we&#8217;re going to be sending out emails
that say, &#8220;Call the <span class="caps">OTS</span> Support Desk for assistance in troubleshooting your
network access,&#8221; then the Support Desk has to have up-to-date information
about it. If people are going to be calling with their <span class="caps">MAC</span>&#8217;s, we can&#8217;t be
looking at a list over a week old. In fact, it was just this morning that we
finally got the updated list, <em>after</em> it had grown to over 400 people and
shrunk back down to about&nbsp;25.</p>
<p><strong>Make one person responsible for communicating with the&nbsp;students.</strong></p>
<p>By this, I don&#8217;t mean that one person should be taking calls with problems.
That&#8217;s the Support Desk&#8217;s job. What I mean is that one person should write the
communication emails, and should be responsible for getting accurate
information from the appropriate people to send out. The process would be as
follows: Network goes down&#8230; Communicator calls Networks, finds out problem X
is the cause, gets an <span class="caps">ETA</span>&#8230; Communicator sends out email information, and
makes arrangements to notify via other means. See below. The more I think
about this, someone at the Support Desk should have this responsibility. But
it should only be one&nbsp;person.</p>
<p><strong>Communication should be done through a variety of&nbsp;means.</strong></p>
<p>In this instance, email was, and usually is, the primary form of
communication. But we need to send out voice mail to faculty, put up flyers in
<span class="caps">MSV</span> and <span class="caps">SSV</span>, and, dare I say it, <strong>hold a press conference</strong>. This isn&#8217;t
always necessary, but in this case, it would have been nice if students could
have gone to a public meeting one evening in the <span class="caps">MTCC</span> auditorium or something,
heard a brief statement about what the problem was and what action we were
taking, and had a chance to ask questions and get some straight answers.
People who aren&#8217;t in the dark are less likely to make up their own
explanations for why something went wrong. Ending speculation can help end
angry customer&nbsp;calls.</p>
<p>I guess that&#8217;s really all I have. This week has been trying for all of us here
at <span class="caps">OTS</span>, but I hope that maybe the staff here will learn from this experience
and make it better the next time this happens. But of course, I am just a
lowly peon here, so what do I&nbsp;know?</p>
<p>By the way, for anyone that cares: <strong>The problem was caused by some (like
8-10) PCs on campus getting hacked (externally, internally, who knows) and
participating in a DoS attack against the <span class="caps">DNS</span> server. The problem now seems to
have been contained, and about 25 people still remain blocked.</strong> Yeah, DoS
sucks, but it is kinda cool to realize that 8-10 machines can destroy a
network connection serving a university of 3000 people. <em>Kinda</em>&nbsp;cool.</p>
                                                            </article>
            </div>                        </div>
    <div class="row archives">
        <div class="twelve columns post-links">
            <ul class="block-grid three-up">
                <li>
                                            <a href="/page/29">← older posts</a>
                                    </li>
                <li style="text-align: center;">
                    <a href="/archives"> &ndash; archives &ndash; </a>
                </li>
                <li>
                                            <a href="/page/27">newer posts →</a>
                                    </li>
            </ul>
        </div>
    </div>
</section>
                            <section id="sidebar" class="three columns">                        <section>
    <div>
        <p>I'm <a href="/about">Tyler Butler</a>: a big man with small dogs.</p>
        <hr/>
        <nav>
            <ul>
                <li><a href="/feeds/atom.xml">feed</a></li>
                <li><a href="/archives">archives</a></li>
                <li><a href="/colophon">colophon</a></li>
            </ul>
        </nav>
        <hr/>
        <h2>you might remember me from</h2>
        <ul>
            <li><a href="http://twitter.com/tylerbutler">twitter</a></li>
            <li><a href="http://github.com/tylerbutler">github</a></li>
        </ul>
    </div>
</section>

    <section id="search">
        <div>
            <form action="http://google.com/search" method="get">
                <fieldset role="search">
                    <input type="hidden" name="q" value="site:http://tylerbutler.github.io">
                    <input class="search" type="text" name="q" results="0" placeholder="Search...">
                </fieldset>
            </form>
        </div>
    </section>
                    </section>
            </div>
        <div class="row">                <footer class="twelve columns centered">                        <p>&copy; 2002-2013 Tyler Butler. All rights reserved.</p>

<p>Powered by <a href="http://www.tylerbutler.com/projects/engineer">engineer</a>.</p>                    </footer>
            </div>
    </div>
                <script src="/static/engineer/lib/foundation/javascripts/foundation.js"></script>
        
    
    
</body>
</html>