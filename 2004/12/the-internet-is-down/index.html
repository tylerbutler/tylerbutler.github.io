<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- Set the viewport width to device width for mobile -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>    The Internet is Down!    : Tyler Butler
</title>

                    
    <link rel="alternate" type="application/atom+xml"
          title="Tyler Butler Atom Feed"
          href="/feeds/atom.xml"/>

                
                                                        <link rel="stylesheet"
                      href="/static/engineer/lib/foundation/stylesheets/grid.css">
                <link rel="stylesheet"
                      href="/static/engineer/lib/foundation/stylesheets/mobile.css">

                <!--[if lt IE 9]>
                    <link rel="stylesheet" href="/static/engineer/lib/foundation/stylesheets/ie.css">
                <![endif]-->
                        
                    
                    
                    <link rel="stylesheet" href="/static/theme/stylesheets/dark_rainbow.css" type="text/css"/>
        
                
                                    
            <script type="text/javascript"
            src="http://use.typekit.net/vty2qol.js"></script>
    <script type="text/javascript">
        try {
            Typekit.load();
        }
        catch (e) {
        }
    </script>
    
            <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-26061862-1']);
    _gaq.push(['_setDomainName', 'tylerbutler.com']);

    // track speed for all users; traffic is low enough this shouldn't be a problem
    _gaq.push(['_setSiteSpeedSampleRate', 100]);
    
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>    
                        <script src="/static/engineer/lib/modernizr-2.6.2.min.js"
                    type="text/javascript"></script>
            
            <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline -->
            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
            <script>
                window.jQuery || document.write('<script src="/static/engineer/lib/jquery-1.10.2.min.js"><\/script>')
            </script>    
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body class=""><!--[if lt IE 7]>
    <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
<![endif]-->    <div class="container">            <header id="primary" class="row">                                            <h1 class="five columns">
                            <a href="/">                                    tyler
                                    <span class="highlight">butler</span>
                                </a>
                        </h1>
                                                        <nav class="seven columns">                            <ul class="nav navbar-nav">
    
                <li class="current">
        <a href="/">articles</a></li>
                <li>
        <a href="/projects">projects</a></li>
</ul>

                        </nav>
                </header>
        <div class="row">                <section id="main" class="twelve columns"
                         role="main">    <div class="row">
            <div class="post-info two columns">
            <div class="post-date">
                                    <div class="month">DEC</div>
                    <div class="day">13</div>
                    <div class="year">2004</div>
                    <div class="permalink">
                        <a href="/2004/12/the-internet-is-down/"
                           title="Permanent link to 'The Internet is Down!'">∞</a>
                    </div>
                            </div>
                                </div>
                            <article class="post-content ten columns">
                <time datetime="2004-12-13 PST"
                      pubdate=""></time>
                <header>
                    <h1>
                        <a href="        /2004/12/the-internet-is-down/">The Internet is Down!</a>
                                            </h1>
                </header>
                                    <p>If you&#8217;ve been at <a href="http://www.iit.edu" title="The Illinois Institute of Technology homepage, the virtual home of the distinguished learning institution I call my own.">Illinois Tech</a> this week, you&#8217;ve had the absolutely
wonderful opportunity to see what carnage a Denial of Service attack against a
core <span class="caps">DNS</span> server can create. Now, I honestly don&#8217;t know much about network
infrastructure or the mechanics behind a Denial of Service attack; frankly, my
passion is software, not hardware, so I&#8217;ve never sought out the knowledge.
(Unfortunately, <a href="http://www.howstuffworks.com" title="Find out how stuff works!  Go on, learn a little!">HowStuffWorks.com</a> doesn&#8217;t have anything specific on DoS.
They do, however, have articles on <a href="http://computer.howstuffworks.com/router.htm" title="How routers work.">routers</a>, <a href="http://computer.howstuffworks.com/firewall.htm" title="How firewalls work.">firewalls</a>, and
&#8220;<a href="http://computer.howstuffworks.com/internet-infrastructure.htm" title="How the internet works.">Internet Infrastructure,</a>&#8221; for those that want to learn more about the
hardware that makes the Internet work.) But despite my lack of knowledge, this
past week has been an excellent chance to experience the effects a DoS can&nbsp;cause.</p>
<p>A DoS <strong>destroys</strong> your ability to use the network &#8211; much moreso than I ever
thought possible. For my own sake, I am going to write a little bit about what
I&#8217;ve seen and make some conclusions about what went wrong, and even try to
suggest possible solutions that we can implement to solve things in the
future. But before we start, a little disclaimer. The network people here at
<span class="caps">IIT</span> are not the most apt people in the world, but they&#8217;re not the most inept
either. We do have some truly brilliant people around here, but frankly, they
don&#8217;t get recognized or listened to nearly enough. So before you start railing
on the fact that if <strong>you</strong> were a network engineer here, this never would
have happened, let me say this: the main problem I have seen this past week is
not a lack of technical experience, knowledge, or anything like that; the
problem is a <strong>lack of communication.</strong> I cannot stress that enough. So let&#8217;s
get&nbsp;started.</p>
<p>On Sunday evening, Felix, one of our network engineers, noticed an inordinate
amount of traffic to random ports and stuff, and suspected a worm or virus had
made its way onto the network. In an effort to contain the attack, he blocked
the <span class="caps">MAC</span> addresses of 160 computers with the highest traffic on the network at
the time, effectively banning <strong>all</strong> network traffic from those people. The
thought was that this would diagnose the problem &#8211; block the addresses, watch
things go back to normal, then go through the <span class="caps">PC</span>&#8217;s that were blocked and
figure out what worm or virus had caused the problem, fix it, and reopen the&nbsp;network.</p>
<p>Problem was &#8211; blocking the addresses didn&#8217;t fix the problem. In fact, it got
worse. The <span class="caps">DNS</span> server started going down, and then finally went kaput
altogether. This effectively knocked out internet access for all of campus.
The internal network still worked, and some cached <span class="caps">DNS</span> entries still resolved
all right, but most people were locked out. Here at the Support Desk we got
back up and running for awhile by switching to an external <span class="caps">DNS</span>, but we
couldn&#8217;t exactly tell the whole campus to do that, because it wouldn&#8217;t have
solved the root of the problem. Eventually, because of the bogus traffic that
was being spit out from our network and our <span class="caps">DNS</span> server, our own <span class="caps">ISP</span> blocked
our <span class="caps">DNS</span>&nbsp;server.</p>
<p>This is where things started to go downhill &#8211; fast. Felix provided us with the
list of blocked <span class="caps">MAC</span> addresses initially, but by the time the <span class="caps">DNS</span> went down,
which was late Monday afternoon, that list was out of date. On top of that,
because of the rampant random network issues, we couldn&#8217;t tell a customer what
was wrong when they called. They might be blocked, they might not. It might
just be the random <span class="caps">DNS</span> problems, it might not. We had still not been provided
with a process through which people could get checked and unblocked if
necessary. Thus, problem number&nbsp;one:</p>
<p><strong>1) We at the Support Desk were not provided with information, sketchy or
otherwise, to tell people when they&nbsp;called.</strong></p>
<p>So we started telling people whatever we knew &#8211; there were network issues,
there were some people with blocked <span class="caps">MAC</span>&#8217;s, we didn&#8217;t know when things would be
back up. It is useful to remember that at this point, <span class="caps">OTS</span> had no idea what the
problem was (the <span class="caps">DNS</span> server was the <em>problem</em>, but it had been brought down by
the DoS attack, which hadn&#8217;t been identified yet), and no information had been
sent out to the <span class="caps">IIT</span> community. Hence, problem number&nbsp;two:</p>
<p><strong>2) <span class="caps">OTS</span> was extremely slow at getting public information out to the <span class="caps">IIT</span>
community, and when they did, provided it via unreliable methods (email,&nbsp;mainly).</strong></p>
<p>Yup, most information went out in the form of emails, which is certainly a
valid form of communication, but it shouldn&#8217;t be the only one. But more on
suggestions&nbsp;later&#8230;</p>
<p>As the week dragged on, and more and more customers became agitated from a
lack of information and a seeming lack of action on our part, things just got
worse. Apparently, there was much debate about the actual cause of the problem
was. Virus scans and other searches had revealed nothing on many of the
blocked <span class="caps">PC</span>&#8217;s, except a small <span class="caps">VBS</span> worm that remained under most virus scanner&#8217;s
radar. One camp held that there was just a problem with the <span class="caps">DNS</span> server -
something was wrong with it. The other camp held that we were under an attack.
One &#8211; it&#8217;s our fault, two &#8211; it&#8217;s not our fault (at least, not&nbsp;directly).</p>
<p>It was suggested at this point that we remove the <span class="caps">DNS</span> server and replace it
with a fresh one, which would make the choice between the two theories simple.
But, for some unknown reason, this was resisted for quite some time.
Eventually, a new <span class="caps">DNS</span> server was put in. It lasted 30 minutes. It was clear we
were under attack. Thus, point number&nbsp;three:</p>
<p><strong>3) When <span class="caps">DNS</span> went down, it should have been replaced immediately. That
would have made it clear from the beginning that we were under&nbsp;attack.</strong></p>
<p>During all of this hullabaloo, we at the Support Desk remained ignorant of any
information regarding the problem, its causes, and what <span class="caps">OTS</span> was doing to
resolve it. The calls we received were getting angrier and angrier as final&#8217;s
week loomed closer and they still couldn&#8217;t get to their course websites, or do
research, or browse the net to relax, or anything. In addition, we didn&#8217;t have
an updated <span class="caps">MAC</span> block list, which had been changed (at one point it got to 400
<span class="caps">MAC</span>&#8217;s) several times at this point. Points numbers four and&nbsp;five:</p>
<p><strong>4) The Support Desk was not provided with up-to-date information (such as
updated <span class="caps">MAC</span> block lists) that would have assisted them in diagnosing the
problem(s), and cut down the workload on other <span class="caps">OTS</span> divisions, and maybe, just
maybe, would have left customers feeling a little happier about the state of&nbsp;things.</strong></p>
<p><strong>5) When <span class="caps">OTS</span> Communications went out, they were overly vague and seemed to
take forever to write. Communications went out with information that seemed
out of date as a&nbsp;result.</strong></p>
<p>Well, those are the main points. The core problem was a lack of communication
and information-sharing amongst departments. If the Support Desk is a voice
for <span class="caps">OTS</span>, then we have to know what to say, and we simply weren&#8217;t provided with
any information. Also, (and this really bugs me) the <span class="caps">OTS</span> communications just
told people to call the Support Desk if they had a problem, presumably to get
more information, but we didn&#8217;t have anything to tell them. So these were the
problems, now what about solutions? Here are my thoughts, for what they&#8217;re&nbsp;worth.</p>
<p><strong>Provide the Support Desk access to information such as <span class="caps">MAC</span> block lists.
The info has to be <em>up-to-date</em>, otherwise it&#8217;s not really&nbsp;useful.</strong></p>
<p>This seems to be a no-brainer to me. If we&#8217;re going to be sending out emails
that say, &#8220;Call the <span class="caps">OTS</span> Support Desk for assistance in troubleshooting your
network access,&#8221; then the Support Desk has to have up-to-date information
about it. If people are going to be calling with their <span class="caps">MAC</span>&#8217;s, we can&#8217;t be
looking at a list over a week old. In fact, it was just this morning that we
finally got the updated list, <em>after</em> it had grown to over 400 people and
shrunk back down to about&nbsp;25.</p>
<p><strong>Make one person responsible for communicating with the&nbsp;students.</strong></p>
<p>By this, I don&#8217;t mean that one person should be taking calls with problems.
That&#8217;s the Support Desk&#8217;s job. What I mean is that one person should write the
communication emails, and should be responsible for getting accurate
information from the appropriate people to send out. The process would be as
follows: Network goes down&#8230; Communicator calls Networks, finds out problem X
is the cause, gets an <span class="caps">ETA</span>&#8230; Communicator sends out email information, and
makes arrangements to notify via other means. See below. The more I think
about this, someone at the Support Desk should have this responsibility. But
it should only be one&nbsp;person.</p>
<p><strong>Communication should be done through a variety of&nbsp;means.</strong></p>
<p>In this instance, email was, and usually is, the primary form of
communication. But we need to send out voice mail to faculty, put up flyers in
<span class="caps">MSV</span> and <span class="caps">SSV</span>, and, dare I say it, <strong>hold a press conference</strong>. This isn&#8217;t
always necessary, but in this case, it would have been nice if students could
have gone to a public meeting one evening in the <span class="caps">MTCC</span> auditorium or something,
heard a brief statement about what the problem was and what action we were
taking, and had a chance to ask questions and get some straight answers.
People who aren&#8217;t in the dark are less likely to make up their own
explanations for why something went wrong. Ending speculation can help end
angry customer&nbsp;calls.</p>
<p>I guess that&#8217;s really all I have. This week has been trying for all of us here
at <span class="caps">OTS</span>, but I hope that maybe the staff here will learn from this experience
and make it better the next time this happens. But of course, I am just a
lowly peon here, so what do I&nbsp;know?</p>
<p>By the way, for anyone that cares: <strong>The problem was caused by some (like
8-10) PCs on campus getting hacked (externally, internally, who knows) and
participating in a DoS attack against the <span class="caps">DNS</span> server. The problem now seems to
have been contained, and about 25 people still remain blocked.</strong> Yeah, DoS
sucks, but it is kinda cool to realize that 8-10 machines can destroy a
network connection serving a university of 3000 people. <em>Kinda</em>&nbsp;cool.</p>
                                                                                                                
                    <div class="row">
                        <div class="twelve columns post-links">
                            <ul class="block-grid two-up">
                                <li>
                                                                            <a href="/2004/12/then-vs-than/">← "Then" Vs. "Than"</a>
                                                                    </li>
                                <li>
                                                                            <a href="/2004/12/merry-christmas/">Merry Christmas! →</a>
                                                                    </li>
                            </ul>
                        </div>
                    </div>
                                            </article>
            </div></section>
            </div>
        <div class="row">                <footer class="twelve columns centered">                        <p>&copy; 2002-2013 Tyler Butler. All rights reserved.</p>

<p>Powered by <a href="http://www.tylerbutler.com/projects/engineer">engineer</a>.</p>                    </footer>
            </div>
    </div>
                <script src="/static/engineer/lib/foundation/javascripts/foundation.js"></script>
        
    
    
</body>
</html>